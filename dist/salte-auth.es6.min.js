/**
 * @salte-auth/salte-auth JavaScript Library v2.14.0
 *
 * @license MIT (https://github.com/salte-auth/salte-auth/blob/master/LICENSE)
 *
 * Made with â™¥ by Nick Woodward <nick@salte.io>, Dave Woodward <dave@salte.io>
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("salte.auth",[],e):"object"==typeof exports?exports["salte.auth"]=e():t["salte.auth"]=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";r.r(e),r.d(e,"SalteAuth",function(){return b});var n=r(2),o=r.n(n),i=r(54),s=r.n(i),c=r(106),a=r.n(c),u=r(118),l=r.n(u),f=r(120),h=r.n(f),p=r(125),d=r.n(p),v=r(126),g=r(132),$=r(176),m=r(177);const y=d()("@salte-auth/salte-auth");class b{constructor(t){if(window.salte.auth)return window.salte.auth;if(!t)throw new ReferenceError("A config must be provided.");if(this.$providers=v.Providers,this.$promises={},this.$timeouts={},this.$listeners={},this.$config=t,this.$config=s()(t,this.$provider.defaultConfig,{loginType:"iframe",autoRefresh:!0,autoRefreshBuffer:6e4}),this.$utilities=new $.SalteAuthUtilities(this.$config),this.profile=new g.SalteAuthProfile(this.$config),this.mixin=Object(m.SalteAuthMixinGenerator)(this),this.$utilities.$iframe)y("Detected iframe, removing..."),this.profile.$parseParams(),parent.document.body.removeChild(this.$utilities.$iframe);else if(this.$utilities.$popup)y("Popup detected!");else if(this.profile.$redirectUrl&&location.href!==this.profile.$redirectUrl){y("Redirect detected!"),this.profile.$parseParams();const t=this.profile.$validate();setTimeout(()=>{const e=this.profile.$actions(this.profile.$state);t?this.profile.$clear():(y("Navigating to Redirect URL... (".concat(this.profile.$redirectUrl,")")),this.$utilities.$navigate(this.profile.$redirectUrl),this.profile.$redirectUrl=void 0),"login"===e?this.$fire("login",t||null,this.profile.code||this.profile.userInfo):"logout"===e&&this.$fire("logout",t),this.$config.redirectLoginCallback&&this.$config.redirectLoginCallback(t)})}else y("Setting up interceptors..."),this.$utilities.addXHRInterceptor((t,e)=>{if("code"!==this.$config.responseType&&this.$utilities.checkForMatchingUrl(t.$url,this.$config.endpoints))return this.retrieveAccessToken().then(e=>{t.setRequestHeader("Authorization","Bearer ".concat(e))})}),this.$utilities.addFetchInterceptor(t=>{if("code"!==this.$config.responseType&&this.$utilities.checkForMatchingUrl(t.url,this.$config.endpoints))return this.retrieveAccessToken().then(e=>{t.headers.set("Authorization","Bearer ".concat(e))})}),y("Setting up route change detectors..."),window.addEventListener("popstate",this.$$onRouteChanged.bind(this),{passive:!0}),document.addEventListener("click",this.$$onRouteChanged.bind(this),{passive:!0}),setTimeout(this.$$onRouteChanged.bind(this)),y("Setting up automatic renewal of token..."),this.on("login",t=>{t||this.$$refreshToken()}),this.on("refresh",t=>{t||this.$$refreshToken()}),this.on("logout",()=>{clearTimeout(this.$timeouts.refresh)}),this.profile.idTokenExpired||this.$$refreshToken(),document.addEventListener("visibilitychange",this.$$onVisibilityChanged.bind(this),{passive:!0}),this.$fire("create",null,this);window.salte.auth=this,this.$config.redirectLoginCallback&&console.warn('The "redirectLoginCallback" api has been deprecated in favor of the "on" api, see http://bit.ly/salte-auth-on for more info.')}get $provider(){if(!this.$config.provider)throw new ReferenceError("A provider must be specified");if("string"==typeof this.$config.provider){const t=this.$providers[this.$config.provider];if(!t)throw new ReferenceError("Unknown Provider (".concat(this.$config.provider,")"));return t}return this.$config.provider}get $accessTokenUrl(){this.profile.$localState=h.a.v4(),this.profile.$nonce=h.a.v4();let t="".concat(this.$config.providerUrl,"/authorize");return this.$provider.authorizeEndpoint&&(t=this.$provider.authorizeEndpoint.call(this,this.$config)),this.$utilities.createUrl(t,o()({state:this.profile.$localState,nonce:this.profile.$nonce,response_type:"token",redirect_uri:this.$config.redirectUrl&&this.$config.redirectUrl.loginUrl||this.$config.redirectUrl,client_id:this.$config.clientId,scope:this.$config.scope,prompt:"none"},this.$config.queryParams))}$loginUrl(t){this.profile.$localState=h.a.v4(),this.profile.$nonce=h.a.v4();let e="".concat(this.$config.providerUrl,"/authorize");return this.$provider.authorizeEndpoint&&(e=this.$provider.authorizeEndpoint.call(this,this.$config)),this.$utilities.createUrl(e,o()({state:this.profile.$localState,nonce:this.profile.$nonce,response_type:this.$config.responseType,redirect_uri:this.$config.redirectUrl&&this.$config.redirectUrl.loginUrl||this.$config.redirectUrl,client_id:this.$config.clientId,scope:this.$config.scope,prompt:t?"none":void 0},this.$config.queryParams))}get $deauthorizeUrl(){return this.$provider.deauthorizeUrl.call(this,s()(this.$config,{idToken:this.profile.$idToken}))}on(t,e){if(-1===["login","logout","refresh","expired"].indexOf(t))throw new ReferenceError("Unknown Event Type (".concat(t,")"));if("function"!=typeof e)throw new ReferenceError("Invalid callback provided!");this.$listeners[t]=this.$listeners[t]||[],this.$listeners[t].push(e)}off(t,e){if(-1===["login","logout","refresh","expired"].indexOf(t))throw new ReferenceError("Unknown Event Type (".concat(t,")"));if("function"!=typeof e)throw new ReferenceError("Invalid callback provided!");const r=this.$listeners[t];if(!r||!r.length)return;const n=r.indexOf(e);r.splice(n,1)}$fire(t,e,r){const n=document.createEvent("Event");n.initEvent("salte-auth-".concat(t),!1,!0),n.detail={error:e,data:r},window.dispatchEvent(n);const o=this.$listeners[t];o&&o.length&&o.forEach(t=>t(e,r))}loginWithIframe(t){return this.$promises.login?this.$promises.login:("boolean"==typeof t&&(t={noPrompt:t,clear:t?"errors":void 0,events:!1}),"all"===(t=s()(t,{noPrompt:!1,clear:"all",events:!0})).clear?this.profile.$clear():"errors"===t.clear&&this.profile.$clearErrors(),this.$promises.login=this.$utilities.createIframe(this.$loginUrl(t.noPrompt),!t.noPrompt).then(()=>{this.$promises.login=null;const e=this.profile.$validate();if(e)return Promise.reject(e);const r=this.profile.code||this.profile.userInfo;return t.events&&this.$fire("login",null,r),r}).catch(e=>(this.$promises.login=null,t.events&&this.$fire("login",e),Promise.reject(e))),this.$promises.login)}loginWithPopup(){return this.$promises.login?this.$promises.login:(this.profile.$clear(),this.$promises.login=this.$utilities.openPopup(this.$loginUrl()).then(()=>{this.$promises.login=null,this.profile.$parseParams();const t=this.profile.$validate();if(t)return this.profile.$clear(),Promise.reject(t);const e=this.profile.code||this.profile.userInfo;return this.$fire("login",null,e),e}).catch(t=>(this.$promises.login=null,this.$fire("login",t),Promise.reject(t))),this.$promises.login)}loginWithNewTab(){return this.$promises.login?this.$promises.login:(this.profile.$clear(),this.$promises.login=this.$utilities.openNewTab(this.$loginUrl()).then(()=>{this.$promises.login=null,this.profile.$parseParams();const t=this.profile.$validate();if(t)return this.profile.$clear(),Promise.reject(t);const e=this.profile.code||this.profile.userInfo;return this.$fire("login",null,e),e}).catch(t=>(this.$promises.login=null,this.$fire("login",t),Promise.reject(t))),this.$promises.login)}loginWithRedirect(t){if(this.$config.redirectLoginCallback&&console.warn('The "redirectLoginCallback" api has been deprecated in favor of the "on" api, see http://bit.ly/salte-auth-on for more info.'),this.$promises.login)return this.$promises.login;this.$promises.login=new Promise(()=>{}),this.profile.$clear(),this.profile.$redirectUrl=t&&this.$utilities.resolveUrl(t)||this.profile.$redirectUrl||location.href;const e=this.$loginUrl();return this.profile.$actions(this.profile.$localState,"login"),this.$utilities.$navigate(e),this.$promises.login}logoutWithIframe(){if(this.$promises.logout)return this.$promises.logout;const t=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.createIframe(t).then(()=>{this.$promises.logout=null,this.$fire("logout")}).catch(t=>(this.$promises.logout=null,this.$fire("logout",t),Promise.reject(t))),this.$promises.logout}logoutWithPopup(){if(this.$promises.logout)return this.$promises.logout;const t=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.openPopup(t).then(()=>{this.$promises.logout=null,this.$fire("logout")}).catch(t=>(this.$promises.logout=null,this.$fire("logout",t),Promise.reject(t))),this.$promises.logout}logoutWithNewTab(){if(this.$promises.logout)return this.$promises.logout;const t=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.openNewTab(t).then(()=>{this.$promises.logout=null,this.$fire("logout")}).catch(t=>(this.$promises.logout=null,this.$fire("logout",t),Promise.reject(t))),this.$promises.logout}logoutWithRedirect(){const t=this.$deauthorizeUrl;this.profile.$clear(),this.profile.$actions(this.profile.$localState,"logout"),this.$utilities.$navigate(t)}refreshToken(){return this.$promises.token?this.$promises.token:(this.$promises.token=this.loginWithIframe(!0).then(t=>{this.$promises.token=null;const e=this.profile.$validate(!0);return e?Promise.reject(e):(this.$promises.token=null,this.$fire("refresh",null,t),t)}).catch(t=>(this.$promises.token=null,this.$fire("refresh",t),Promise.reject(t))),this.$promises.token)}$$refreshToken(){void 0!==this.$timeouts.refresh&&clearTimeout(this.$timeouts.refresh),void 0!==this.$timeouts.expired&&clearTimeout(this.$timeouts.expired);const t=1e3*this.profile.userInfo.exp-Date.now();this.$timeouts.refresh=setTimeout(()=>{this.$config.autoRefresh?this.refreshToken().catch(t=>{console.error(t)}):this.$fire("refresh")},Math.max(t-this.$config.autoRefreshBuffer,0)),this.$timeouts.expired=setTimeout(()=>{this.$fire("expired")},Math.max(t,0))}retrieveAccessToken(){if(this.$promises.token)return y("Existing token request detected, resolving..."),this.$promises.token;if(this.$promises.token=Promise.resolve(),"code"===this.$config.responseType&&!this.profile.code||"code"!==this.$config.responseType&&this.profile.idTokenExpired)if(y("id token has expired, reauthenticating..."),"iframe"===this.$config.loginType)y("Initiating the iframe flow..."),this.$promises.token=this.loginWithIframe();else if("redirect"===this.$config.loginType)this.$promises.token=this.loginWithRedirect();else{if(!1!==this.$config.loginType)return this.$promises.token=null,Promise.reject(new ReferenceError("Invalid Login Type (".concat(this.$config.loginType,")")));if(!this.$promises.login)return this.$promises.token=null,Promise.reject(new ReferenceError("Automatic login is disabled, please login before making any requests!"));this.$promises.token=this.$promises.login}return"code"!==this.$config.responseType&&(this.$promises.token=this.$promises.token.then(()=>(this.profile.$clearErrors(),this.profile.accessTokenExpired?(y("Access token has expired, renewing..."),this.$utilities.createIframe(this.$accessTokenUrl).then(()=>{const t=this.profile.$validate(!0);return t?Promise.reject(t):this.profile.$accessToken})):this.profile.$accessToken))),this.$promises.token&&(this.$promises.token=this.$promises.token.then(t=>(this.$promises.token=null,t)).catch(t=>(this.$promises.token=null,Promise.reject(t)))),this.$promises.token}$$onRouteChanged(){y("Route change detected, determining if the route is secured..."),this.$utilities.isRouteSecure(location.href,this.$config.routes)&&(y("Route is secure, verifying tokens..."),this.retrieveAccessToken())}$$onVisibilityChanged(){y("Visibility change detected, deferring to the next event loop..."),y("Determining if the id token has expired..."),!this.profile.idTokenExpired&&this.$config.autoRefresh&&(this.$utilities.$hidden?(y("Page is hidden, refreshing the token..."),this.refreshToken().then(()=>{y("Disabling automatic renewal of the token..."),clearTimeout(this.$timeouts.refresh),this.$timeouts.refresh=null})):(y("Page is visible restarting automatic token renewal..."),this.$$refreshToken()))}}l()(window,"salte.SalteAuth",a()(window,"salte.SalteAuth",b)),e.default=b},function(t,e,r){var n=r(3),o=r(22),i=r(23),s=r(33),c=r(36),a=r(37),u=Object.prototype.hasOwnProperty,l=i(function(t,e){if(c(e)||s(e))o(e,a(e),t);else for(var r in e)u.call(e,r)&&n(t,r,e[r])});t.exports=l},function(t,e,r){var n=r(4),o=r(21),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];i.call(t,e)&&o(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(5);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e,r){var n=r(6),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(7),o=r(20);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(8),o=r(17),i=r(16),s=r(19),c=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,l=a.toString,f=u.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:c).test(s(t))}},function(t,e,r){var n=r(9),o=r(16),i="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",a="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=n(t);return e==s||e==c||e==i||e==a}},function(t,e,r){var n=r(10),o=r(14),i=r(15),s="[object Null]",c="[object Undefined]",a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?c:s:a&&a in Object(t)?o(t):i(t)}},function(t,e,r){var n=r(11).Symbol;t.exports=n},function(t,e,r){var n=r(12),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(13))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(10),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,c=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),r=t[c];try{t[c]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[c]=r:delete t[c]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n,o=r(18),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(11)["__core-js_shared__"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(3),o=r(4);t.exports=function(t,e,r,i){var s=!r;r||(r={});for(var c=-1,a=e.length;++c<a;){var u=e[c],l=i?i(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),s?o(r,u,l):n(r,u,l)}return r}},function(t,e,r){var n=r(24),o=r(32);t.exports=function(t){return n(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(i--,s):void 0,c&&o(r[0],r[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}},function(t,e,r){var n=r(25),o=r(26),i=r(28);t.exports=function(t,e){return i(o(t,e,n),t+"")}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(27),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,c=o(i.length-e,0),a=Array(c);++s<c;)a[s]=i[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=i[s];return u[e]=r(a),n(t,this,u)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(29),o=r(31)(n);t.exports=o},function(t,e,r){var n=r(30),o=r(5),i=r(25),s=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var r=800,n=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var s=o(),c=n-(s-i);if(i=s,c>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(21),o=r(33),i=r(35),s=r(16);t.exports=function(t,e,r){if(!s(r))return!1;var c=typeof e;return!!("number"==c?o(r)&&i(e,r.length):"string"==c&&e in r)&&n(r[e],t)}},function(t,e,r){var n=r(8),o=r(34);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e){var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?r:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(38),o=r(51),i=r(33);t.exports=function(t){return i(t)?n(t):o(t)}},function(t,e,r){var n=r(39),o=r(40),i=r(43),s=r(44),c=r(35),a=r(47),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&s(t),h=!r&&!l&&!f&&a(t),p=r||l||f||h,d=p?n(t.length,String):[],v=d.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||c(g,v))||d.push(g);return d}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(41),o=r(42),i=Object.prototype,s=i.hasOwnProperty,c=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!c.call(t,"callee")};t.exports=a},function(t,e,r){var n=r(9),o=r(42),i="[object Arguments]";t.exports=function(t){return o(t)&&n(t)==i}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){(function(t){var n=r(11),o=r(46),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=s&&s.exports===i?n.Buffer:void 0,a=(c?c.isBuffer:void 0)||o;t.exports=a}).call(this,r(45)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(48),o=r(49),i=r(50),s=i&&i.isTypedArray,c=s?o(s):n;t.exports=c},function(t,e,r){var n=r(9),o=r(34),i=r(42),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(12),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&n.process,c=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=c}).call(this,r(45)(t))},function(t,e,r){var n=r(36),o=r(52),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){var n=r(53)(Object.keys,Object);t.exports=n},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(27),o=r(24),i=r(55),s=r(105),c=o(function(t){return t.push(void 0,i),n(s,void 0,t)});t.exports=c},function(t,e,r){var n=r(56),o=r(16);t.exports=function t(e,r,i,s,c,a){return o(e)&&o(r)&&(a.set(r,e),n(e,r,void 0,t,a),a.delete(r)),e}},function(t,e,r){var n=r(57),o=r(86),i=r(87),s=r(89),c=r(16),a=r(102),u=r(100);t.exports=function t(e,r,l,f,h){e!==r&&i(r,function(i,a){if(c(i))h||(h=new n),s(e,r,a,l,t,f,h);else{var p=f?f(u(e,a),i,a+"",e,r,h):void 0;void 0===p&&(p=i),o(e,a,p)}},a)}},function(t,e,r){var n=r(58),o=r(65),i=r(66),s=r(67),c=r(68),a=r(69);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=s,u.prototype.has=c,u.prototype.set=a,t.exports=u},function(t,e,r){var n=r(59),o=r(60),i=r(62),s=r(63),c=r(64);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(61),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},function(t,e,r){var n=r(21);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(61);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(61);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(61);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(58);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(58),o=r(70),i=r(71),s=200;t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var c=r.__data__;if(!o||c.length<s-1)return c.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(c)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(6)(r(11),"Map");t.exports=n},function(t,e,r){var n=r(72),o=r(80),i=r(83),s=r(84),c=r(85);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},function(t,e,r){var n=r(73),o=r(58),i=r(70);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(t,e,r){var n=r(74),o=r(76),i=r(77),s=r(78),c=r(79);function a(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=o,a.prototype.get=i,a.prototype.has=s,a.prototype.set=c,t.exports=a},function(t,e,r){var n=r(75);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e,r){var n=r(6)(Object,"create");t.exports=n},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(75),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return i.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(75),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(75),o="__lodash_hash_undefined__";t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}},function(t,e,r){var n=r(81);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,r){var n=r(82);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(81);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(81);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(81);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e,r){var n=r(4),o=r(21);t.exports=function(t,e,r){(void 0===r||o(t[e],r))&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(88)();t.exports=n},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),s=n(e),c=s.length;c--;){var a=s[t?c:++o];if(!1===r(i[a],a,i))break}return e}}},function(t,e,r){var n=r(86),o=r(90),i=r(91),s=r(94),c=r(95),a=r(40),u=r(43),l=r(98),f=r(44),h=r(8),p=r(16),d=r(99),v=r(47),g=r(100),$=r(101);t.exports=function(t,e,r,m,y,b,x){var w=g(t,r),_=g(e,r),C=x.get(_);if(C)n(t,r,C);else{var j=b?b(w,_,r+"",t,e,x):void 0,k=void 0===j;if(k){var U=u(_),T=!U&&f(_),O=!U&&!T&&v(_);j=_,U||T||O?u(w)?j=w:l(w)?j=s(w):T?(k=!1,j=o(_,!0)):O?(k=!1,j=i(_,!0)):j=[]:d(_)||a(_)?(j=w,a(w)?j=$(w):p(w)&&!h(w)||(j=c(_))):k=!1}k&&(x.set(_,j),y(j,_,m,b,x),x.delete(_)),n(t,r,j)}}},function(t,e,r){(function(t){var n=r(11),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o?n.Buffer:void 0,c=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(45)(t))},function(t,e,r){var n=r(92);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(93);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e,r){var n=r(11).Uint8Array;t.exports=n},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){var n=r(96),o=r(97),i=r(36);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},function(t,e,r){var n=r(16),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e,r){var n=r(53)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(33),o=r(42);t.exports=function(t){return o(t)&&n(t)}},function(t,e,r){var n=r(9),o=r(97),i=r(42),s="[object Object]",c=Function.prototype,a=Object.prototype,u=c.toString,l=a.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!i(t)||n(t)!=s)return!1;var e=o(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,r){var n=r(22),o=r(102);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(38),o=r(103),i=r(33);t.exports=function(t){return i(t)?n(t,!0):o(t)}},function(t,e,r){var n=r(16),o=r(36),i=r(104),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var c in t)("constructor"!=c||!e&&s.call(t,c))&&r.push(c);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(56),o=r(23)(function(t,e,r,o){n(t,e,r,o)});t.exports=o},function(t,e,r){var n=r(107);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},function(t,e,r){var n=r(108),o=r(117);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},function(t,e,r){var n=r(43),o=r(109),i=r(111),s=r(114);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(s(t))}},function(t,e,r){var n=r(43),o=r(110),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||s.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,r){var n=r(9),o=r(42),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&n(t)==i}},function(t,e,r){var n=r(112),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)}),e});t.exports=s},function(t,e,r){var n=r(113),o=500;t.exports=function(t){var e=n(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}},function(t,e,r){var n=r(71),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},function(t,e,r){var n=r(115);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(10),o=r(116),i=r(43),s=r(110),c=1/0,a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-c?"-0":r}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(110),o=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,r){var n=r(119);t.exports=function(t,e,r){return null==t?t:n(t,e,r)}},function(t,e,r){var n=r(3),o=r(108),i=r(35),s=r(16),c=r(117);t.exports=function(t,e,r,a){if(!s(t))return t;for(var u=-1,l=(e=o(e,t)).length,f=l-1,h=t;null!=h&&++u<l;){var p=c(e[u]),d=r;if(u!=f){var v=h[p];void 0===(d=a?a(v,p,h):void 0)&&(d=s(v)?v:i(e[u+1])?[]:{})}n(h,p,d),h=h[p]}return t}},function(t,e,r){var n=r(121),o=r(124),i=o;i.v1=n,i.v4=o,t.exports=i},function(t,e,r){var n,o,i=r(122),s=r(123),c=0,a=0;t.exports=function(t,e,r){var u=e&&r||0,l=e||[],f=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==h){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:a+1,g=d-c+(v-a)/1e4;if(g<0&&void 0===t.clockseq&&(h=h+1&16383),(g<0||d>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,a=v,o=h;var $=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;l[u++]=$>>>24&255,l[u++]=$>>>16&255,l[u++]=$>>>8&255,l[u++]=255&$;var m=d/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=h>>>8|128,l[u++]=255&h;for(var y=0;y<6;++y)l[u+y]=f[y];return e||s(l)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,r){var n=r(122),o=r(123);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var c=0;c<16;++c)e[i+c]=s[c];return e||o(s)}},function(t,e,r){"use strict";var n,o,i,s,c;function a(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}c=function(){return function(){return function t(e,r,n){function o(c,a){if(!r[c]){if(!e[c]){if(!a&&"function"==typeof s&&s)return s(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[c]={exports:{}};e[c][0].call(l.exports,function(t){return o(e[c][1][t]||t)},l,l.exports,t,e,r,n)}return r[c].exports}for(var i="function"==typeof s&&s,c=0;c<n.length;c++)o(n[c]);return o}}()({1:[function(t,e,r){var n=1e3,o=60*n,i=60*o,s=24*i,c=7*s,a=365.25*s;function l(t,e,r,n){var o=e>=1.5*r;return Math.round(t/r)+" "+n+(o?"s":"")}e.exports=function(t,e){e=e||{};var r=u(t);if("string"===r&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*a;case"weeks":case"week":case"w":return r*c;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(t);if("number"===r&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=s)return l(t,e,s,"day");if(e>=i)return l(t,e,i,"hour");if(e>=o)return l(t,e,o,"minute");if(e>=n)return l(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=s)return Math.round(t/s)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=o)return Math.round(t/o)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],2:[function(t,e,r){var n,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}}();var u,l=[],f=!1,h=-1;function p(){f&&u&&(f=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!f){var t=a(p);f=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new v(t,e)),1!==l.length||f||a(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,r){e.exports=function(e){function r(t){for(var e=0,r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){var e;function s(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(s.enabled){var i=s,c=Number(new Date),a=c-(e||c);i.diff=a,i.prev=e,i.curr=c,e=c,r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;u++;var o=n.formatters[e];if("function"==typeof o){var s=r[u];t=o.call(i,s),r.splice(u,1),u--}return t}),n.formatArgs.call(i,r),(i.log||n.log).apply(i,r)}}return s.namespace=t,s.enabled=n.enabled(t),s.useColors=n.useColors(),s.color=r(t),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function i(t,e){var r=n(this.namespace+(void 0===e?":":e)+t);return r.log=this.log,r}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){var t=[].concat(a(n.names.map(s)),a(n.skips.map(s).map(function(t){return"-"+t}))).join(",");return n.enable(""),t},n.enable=function(t){var e;n.save(t),n.names=[],n.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(e=0;e<o;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var i=n.instances[e];i.enabled=n.enabled(i.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=t("ms"),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=r,n.enable(n.load()),n}},{ms:1}],4:[function(t,e,r){(function(n){r.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":u(console))&&console.log&&(t=console).log.apply(t,arguments)},r.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))}),t.splice(o,0,r)},r.save=function(t){try{t?r.storage.setItem("debug",t):r.storage.removeItem("debug")}catch(t){}},r.load=function(){var t;try{t=r.storage.getItem("debug")}catch(t){}!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG);return t},r.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch(t){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=t("./common")(r),e.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,t("_process"))},{"./common":3,_process:2}]},{},[4])(4)},"object"===u(e)&&void 0!==t?t.exports=c():(o=[],void 0===(i="function"==typeof(n=c)?n.apply(e,o):n)||(t.exports=i))},function(t,e,r){"use strict";r.r(e),r.d(e,"Providers",function(){return a});var n=r(127),o=r(128),i=r(129),s=r(130),c=r(131);class a{static get auth0(){return n.default}static get azure(){return o.default}static get cognito(){return i.default}static get wso2(){return s.default}static get okta(){return c.default}}e.default=a},function(t,e,r){"use strict";r.r(e);e.default=class{static deauthorizeUrl(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/v2/logout"),{returnTo:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,client_id:t.clientId})}}},function(t,e,r){"use strict";r.r(e);e.default=class{static authorizeEndpoint(t){return"".concat(t.providerUrl,"/oauth2/authorize")}static deauthorizeUrl(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/oauth2/logout"),{post_logout_redirect_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl})}}},function(t,e,r){"use strict";r.r(e);e.default=class{static authorizeEndpoint(t){return"".concat(t.providerUrl,"/oauth2/authorize")}static deauthorizeUrl(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/logout"),{logout_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,client_id:t.clientId})}static get defaultConfig(){return{validation:{nonce:!1}}}}},function(t,e,r){"use strict";r.r(e);e.default=class{static deauthorizeUrl(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/commonauth"),{commonAuthLogout:!0,type:"oidc",commonAuthCallerPath:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,relyingParty:t.relyingParty})}}},function(t,e,r){"use strict";r.r(e);e.default=class{static authorizeEndpoint(t){return"".concat(t.providerUrl,"/oauth2/v1/authorize")}static deauthorizeUrl(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/oauth2/v1/logout"),{id_token_hint:t.idToken,post_logout_redirect_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl})}}},function(t,e,r){"use strict";r.r(e),r.d(e,"SalteAuthProfile",function(){return l});var n=r(54),o=r.n(n),i=r(133),s=r.n(i),c=r(125);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const u=r.n(c)()("@salte-auth/salte-auth:profile");class l{constructor(t){u("Appending defaults to config..."),this.$$config=o()(t,{validation:{nonce:!0,state:!0,azp:!0,aud:!0},storageType:"session"}),this.userInfo=null,this.$refreshUserInfo()}$parseParams(){if(location.search||location.hash){const t=location.search.replace(/^\?/,"").split("&").concat(location.hash.replace(/(#!?[^#]+)?#/,"").split("&"));u("Hash detected, parsing...",t);for(let e=0;e<t.length;e++){const r=a(t[e].split("="),2),n=r[0],o=r[1];this.$parse(n,decodeURIComponent(o))}u("Removing hash..."),history.pushState("",document.title,location.href.replace(location.search,"").replace(location.hash,""))}}$parse(t,e){switch(t){case"token_type":this.$tokenType=e;break;case"expires_in":this.$expiration=Date.now()+1e3*Number(e);break;case"access_token":this.$accessToken=e;break;case"id_token":this.$idToken=e;break;case"code":this.code=e;break;case"state":this.$state=e;break;case"error":this.$error=e;break;case"error_description":this.$errorDescription=e}}get idTokenExpired(){return!this.$idToken||Date.now()>=1e3*this.userInfo.exp}get accessTokenExpired(){return!this.$accessToken||Date.now()>=this.$expiration}get $tokenType(){return this.$getItem("salte.auth.$token-type","session")}set $tokenType(t){this.$saveItem("salte.auth.$token-type",t,"session")}get $expiration(){const t=this.$getItem("salte.auth.expiration");return t?Number(t):null}set $expiration(t){this.$saveItem("salte.auth.expiration",t)}get $accessToken(){return this.$getItem("salte.auth.access-token")}set $accessToken(t){this.$saveItem("salte.auth.access-token",t)}get $idToken(){return this.$getItem("salte.auth.id-token")}set $idToken(t){this.$saveItem("salte.auth.id-token",t)}get code(){return this.$getItem("salte.auth.code")}set code(t){this.$saveItem("salte.auth.code",t)}get $state(){return this.$getItem("salte.auth.$state","session")}set $state(t){this.$saveItem("salte.auth.$state",t,"session")}get $localState(){return this.$getItem("salte.auth.$local-state","session")}set $localState(t){this.$saveItem("salte.auth.$local-state",t,"session")}get $error(){return this.$getItem("salte.auth.error")}set $error(t){this.$saveItem("salte.auth.error",t)}get $errorDescription(){return this.$getItem("salte.auth.error-description")}set $errorDescription(t){this.$saveItem("salte.auth.error-description",t)}get $redirectUrl(){return this.$getItem("salte.auth.$redirect-url","session")}set $redirectUrl(t){this.$saveItem("salte.auth.$redirect-url",t,"session")}get $nonce(){return this.$getItem("salte.auth.$nonce","session")}set $nonce(t){this.$saveItem("salte.auth.$nonce",t,"session")}$actions(t,e){if(!e)return this.$getItem("salte.auth.action.".concat(t));this.$saveItem("salte.auth.action.".concat(t),e)}$refreshUserInfo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$idToken,e=null;if(t){const r=t.split(".");if(3===r.length){const t=r[1].replace(/-/g,"+").replace(/_/g,"/");e=JSON.parse(atob(t))}}this.userInfo=e}$validate(t){if(this.$refreshUserInfo(),this.$$config.validation){if(this.$error)return{code:this.$error,description:this.$errorDescription};if("code"===this.$$config.responseType&&!this.code||"code"!==this.$$config.responseType&&!this.$idToken)return{code:"login_canceled",description:"User likely canceled the login or something unexpected occurred."};if(this.$$config.validation.state&&this.$localState!==this.$state)return{code:"invalid_state",description:"State provided by identity provider did not match local state."};if("code"!==this.$$config.responseType&&!t){if(this.$$config.validation.nonce&&this.$nonce!==this.userInfo.nonce)return{code:"invalid_nonce",description:"Nonce provided by identity provider did not match local nonce."};if(Array.isArray(this.userInfo.aud)){if(this.$$config.validation.azp){if(!this.userInfo.azp)return{code:"invalid_azp",description:"Audience was returned as an array and AZP was not present on the ID Token."};if(this.userInfo.azp!==this.$$config.clientId)return{code:"invalid_azp",description:"AZP does not match the Client ID."}}if(this.$$config.validation.aud){if(!s()(this.userInfo.aud,t=>t===this.$$config.clientId))return{code:"invalid_aud",description:"None of the audience values matched the Client ID."}}}else if(this.$$config.validation.aud&&this.userInfo.aud!==this.$$config.clientId)return{code:"invalid_aud",description:"The audience did not match the Client ID."}}}else u("Validation is disabled, skipping...")}$getItem(t,e){return(e?this.$$getStorage(e):this.$storage).getItem(t)}$saveItem(t,e,r){const n=r?this.$$getStorage(r):this.$storage;-1!==[void 0,null].indexOf(e)?n.removeItem(t):n.setItem(t,e)}get $storage(){return this.$$getStorage(this.$$config.storageType)}$$getStorage(t){if("local"===t)return localStorage;if("session"===t)return sessionStorage;throw new ReferenceError("Unknown Storage Type (".concat(t,")"))}$clear(){for(const t in localStorage)t.match(/^salte\.auth\.[^$]/)&&localStorage.removeItem(t);for(const t in sessionStorage)t.match(/^salte\.auth\.[^$]/)&&sessionStorage.removeItem(t);this.$refreshUserInfo()}$clearErrors(){this.$error=void 0,this.$errorDescription=void 0}}e.default=l},function(t,e,r){var n=r(134)(r(171));t.exports=n},function(t,e,r){var n=r(135),o=r(33),i=r(37);t.exports=function(t){return function(e,r,s){var c=Object(e);if(!o(e)){var a=n(r,3);e=i(e),r=function(t){return a(c[t],t,c)}}var u=t(e,r,s);return u>-1?c[a?e[u]:u]:void 0}}},function(t,e,r){var n=r(136),o=r(164),i=r(25),s=r(43),c=r(168);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):n(t):c(t)}},function(t,e,r){var n=r(137),o=r(161),i=r(163);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},function(t,e,r){var n=r(57),o=r(138),i=1,s=2;t.exports=function(t,e,r,c){var a=r.length,u=a,l=!c;if(null==t)return!u;for(t=Object(t);a--;){var f=r[a];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++a<u;){var h=(f=r[a])[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var v=new n;if(c)var g=c(p,d,h,t,e,v);if(!(void 0===g?o(d,p,i|s,c,v):g))return!1}}return!0}},function(t,e,r){var n=r(139),o=r(42);t.exports=function t(e,r,i,s,c){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,s,t,c))}},function(t,e,r){var n=r(57),o=r(140),i=r(146),s=r(149),c=r(156),a=r(43),u=r(44),l=r(47),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,$,m){var y=a(t),b=a(e),x=y?p:c(t),w=b?p:c(e),_=(x=x==h?d:x)==d,C=(w=w==h?d:w)==d,j=x==w;if(j&&u(t)){if(!u(e))return!1;y=!0,_=!1}if(j&&!_)return m||(m=new n),y||l(t)?o(t,e,r,g,$,m):i(t,e,x,r,g,$,m);if(!(r&f)){var k=_&&v.call(t,"__wrapped__"),U=C&&v.call(e,"__wrapped__");if(k||U){var T=k?t.value():t,O=U?e.value():e;return m||(m=new n),$(T,O,r,g,m)}}return!!j&&(m||(m=new n),s(t,e,r,g,$,m))}},function(t,e,r){var n=r(141),o=r(144),i=r(145),s=1,c=2;t.exports=function(t,e,r,a,u,l){var f=r&s,h=t.length,p=e.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var v=-1,g=!0,$=r&c?new n:void 0;for(l.set(t,e),l.set(e,t);++v<h;){var m=t[v],y=e[v];if(a)var b=f?a(y,m,v,e,t,l):a(m,y,v,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if($){if(!o(e,function(t,e){if(!i($,e)&&(m===t||u(m,t,r,a,l)))return $.push(e)})){g=!1;break}}else if(m!==y&&!u(m,y,r,a,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},function(t,e,r){var n=r(71),o=r(142),i=r(143);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},function(t,e){var r="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,r),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(10),o=r(93),i=r(21),s=r(140),c=r(147),a=r(148),u=1,l=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",v="[object Number]",g="[object RegExp]",$="[object Set]",m="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=n?n.prototype:void 0,_=w?w.valueOf:void 0;t.exports=function(t,e,r,n,w,C,j){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!C(new o(t),new o(e)));case f:case h:case v:return i(+t,+e);case p:return t.name==e.name&&t.message==e.message;case g:case m:return t==e+"";case d:var k=c;case $:var U=n&u;if(k||(k=a),t.size!=e.size&&!U)return!1;var T=j.get(t);if(T)return T==e;n|=l,j.set(t,e);var O=s(k(t),k(e),n,w,C,j);return j.delete(t),O;case y:if(_)return _.call(t)==_.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},function(t,e,r){var n=r(150),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,s,c,a){var u=r&o,l=n(t),f=l.length;if(f!=n(e).length&&!u)return!1;for(var h=f;h--;){var p=l[h];if(!(u?p in e:i.call(e,p)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var v=!0;a.set(t,e),a.set(e,t);for(var g=u;++h<f;){var $=t[p=l[h]],m=e[p];if(s)var y=u?s(m,$,p,e,t,a):s($,m,p,t,e,a);if(!(void 0===y?$===m||c($,m,r,s,a):y)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(v=!1)}return a.delete(t),a.delete(e),v}},function(t,e,r){var n=r(151),o=r(153),i=r(37);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(152),o=r(43);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(154),o=r(155),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,c=s?function(t){return null==t?[]:(t=Object(t),n(s(t),function(e){return i.call(t,e)}))}:o;t.exports=c},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(157),o=r(70),i=r(158),s=r(159),c=r(160),a=r(9),u=r(19),l=u(n),f=u(o),h=u(i),p=u(s),d=u(c),v=a;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||s&&"[object Set]"!=v(new s)||c&&"[object WeakMap]"!=v(new c))&&(v=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,r){var n=r(6)(r(11),"DataView");t.exports=n},function(t,e,r){var n=r(6)(r(11),"Promise");t.exports=n},function(t,e,r){var n=r(6)(r(11),"Set");t.exports=n},function(t,e,r){var n=r(6)(r(11),"WeakMap");t.exports=n},function(t,e,r){var n=r(162),o=r(37);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],s=t[i];e[r]=[i,s,n(s)]}return e}},function(t,e,r){var n=r(16);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},function(t,e,r){var n=r(138),o=r(106),i=r(165),s=r(109),c=r(162),a=r(163),u=r(117),l=1,f=2;t.exports=function(t,e){return s(t)&&c(e)?a(u(t),e):function(r){var s=o(r,t);return void 0===s&&s===e?i(r,t):n(e,s,l|f)}}},function(t,e,r){var n=r(166),o=r(167);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(108),o=r(40),i=r(43),s=r(35),c=r(34),a=r(117);t.exports=function(t,e,r){for(var u=-1,l=(e=n(e,t)).length,f=!1;++u<l;){var h=a(e[u]);if(!(f=null!=t&&r(t,h)))break;t=t[h]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&c(l)&&s(h,l)&&(i(t)||o(t))}},function(t,e,r){var n=r(169),o=r(170),i=r(109),s=r(117);t.exports=function(t){return i(t)?n(s(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(107);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e,r){var n=r(172),o=r(135),i=r(173),s=Math.max;t.exports=function(t,e,r){var c=null==t?0:t.length;if(!c)return-1;var a=null==r?0:i(r);return a<0&&(a=s(c+a,0)),n(t,o(e,3),a)}},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,r){var n=r(174);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},function(t,e,r){var n=r(175),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=n(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},function(t,e,r){var n=r(16),o=r(110),i=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=a.test(t);return r||u.test(t)?l(t.slice(2),r?2:8):c.test(t)?i:+t}},function(t,e,r){"use strict";r.r(e),r.d(e,"SalteAuthUtilities",function(){return c});var n=r(2),o=r.n(n),i=r(125);const s=r.n(i)()("@salte-auth/salte-auth:utilities");class c{constructor(t){var e;this.$$config=t,this.$interceptors={fetch:[],xhr:[]},s("Setting up wrappers for XMLHttpRequest..."),e=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(t,r){return this.$url=r,e.call(this,t,r)};const r=this;var n;n=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(t){const e=[];for(let n=0;n<r.$interceptors.xhr.length;n++){const o=r.$interceptors.xhr[n];e.push(o(this,t))}Promise.all(e).then(()=>{n.call(this,t)}).catch(t=>{const e=document.createEvent("Event");e.initEvent("error",!1,!0),e.detail=t,this.dispatchEvent(e)})},window.fetch&&(s("Fetch detected, setting up wrappers..."),function(t){window.fetch=function(e,n){const o=e instanceof Request?e:new Request(e,n),i=[];for(let t=0;t<r.$interceptors.fetch.length;t++){const e=r.$interceptors.fetch[t];i.push(e(o))}return Promise.all(i).then(()=>t.call(this,o))}}(fetch))}createUrl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t;return Object.keys(e).forEach(t=>{const n=e[t];-1===[void 0,null,""].indexOf(n)&&(r+="".concat(-1===r.indexOf("?")?"?":"&").concat(t,"=").concat(encodeURIComponent(n)))}),r}resolveUrl(t){return this.$$urlDocument||(this.$$urlDocument=document.implementation.createHTMLDocument("url"),this.$$urlBase=this.$$urlDocument.createElement("base"),this.$$urlAnchor=this.$$urlDocument.createElement("a"),this.$$urlDocument.head.appendChild(this.$$urlBase)),this.$$urlBase.href=window.location.protocol+"//"+window.location.host,this.$$urlAnchor.href=t.replace(/ /g,"%20"),this.$$urlAnchor.href.replace(/\/$/,"")}checkForMatchingUrl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=this.resolveUrl(t);for(let t=0;t<e.length;t++){const n=e[t];if(n instanceof RegExp){if(r.match(n))return!0}else if(0===r.indexOf(this.resolveUrl(n)))return!0}return!1}isRouteSecure(t,e){return!0===e||e instanceof Array&&this.checkForMatchingUrl(t,e)}openPopup(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"salte-auth",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;const o=window.innerHeight/2-r/2+window.screenTop,i=window.innerWidth/2-n/2+window.screenLeft,s=window.open(t,e,"height=".concat(r,", width=").concat(n,", status=yes, toolbar=no, menubar=no, location=no, top=").concat(o,", left=").concat(i));return s?(s.focus(),new Promise(t=>{const e=setInterval(()=>{try{if(!s.closed){const t=this.$$config.redirectUrl&&this.$$config.redirectUrl.loginUrl||this.$$config.redirectUrl,e=this.$$config.redirectUrl&&this.$$config.redirectUrl.logoutUrl||this.$$config.redirectUrl;if(0!==s.location.href.indexOf(t)||0!==s.location.href.indexOf(e))return;location.hash=s.location.hash,s.close()}clearInterval(e),setTimeout(t)}catch(t){}},100)})):Promise.reject(new ReferenceError("We were unable to open the popup window, its likely that the request was blocked."))}openNewTab(t){const e=window.open(t,"_blank");return e?(e.name="salte-auth",e.focus(),new Promise(t=>{const r=setInterval(()=>{try{if(!e.closed){const t=this.$$config.redirectUrl&&this.$$config.redirectUrl.loginUrl||this.$$config.redirectUrl,r=this.$$config.redirectUrl&&this.$$config.redirectUrl.logoutUrl||this.$$config.redirectUrl;if(0!==e.location.href.indexOf(t)||0!==e.location.href.indexOf(r))return;location.hash=e.location.hash,e.close()}clearInterval(r),setTimeout(t)}catch(t){}},100)})):Promise.reject(new ReferenceError("We were unable to open the new tab, its likely that the request was blocked."))}createIframe(t,e){const r=document.createElement("iframe");return r.setAttribute("owner","salte-auth"),e?(o()(r.style,{position:"fixed",top:0,bottom:0,left:0,right:0,height:"100%",width:"100%",zIndex:9999,border:"none",opacity:0,transition:"0.5s opacity"}),setTimeout(()=>{r.style.opacity=1})):r.style.display="none",r.src=t,document.body.appendChild(r),new Promise(t=>{r.addEventListener("DOMNodeRemoved",()=>{setTimeout(t)},{passive:!0})})}addXHRInterceptor(t){this.$interceptors.xhr.push(t)}addFetchInterceptor(t){this.$interceptors.fetch.push(t)}get $iframe(){return window.self===window.top?null:parent.document.querySelector('body > iframe[owner="salte-auth"]')}get $popup(){return window.opener&&"salte-auth"===window.name?window:null}get $hidden(){return document.hidden}$navigate(t){location.href=t}}e.default=c},function(t,e,r){"use strict";r.r(e),r.d(e,"SalteAuthMixinGenerator",function(){return n});const n=function(t){const e=[];return t.on("login",(r,n)=>{if(r)console.error(r);else for(let r=0;r<e.length;r++)e[r].user=n,e[r].authenticated=!t.profile.idTokenExpired}),t.on("logout",t=>{if(t)console.error(t);else for(let t=0;t<e.length;t++)e[t].user=null,e[t].authenticated=!1}),t.on("expired",()=>{for(let t=0;t<e.length;t++)e[t].authenticated=!1}),function(r){return class extends r{constructor(){super(),e.push(this),this.user=t.profile.userInfo||null,this.authenticated=!t.profile.idTokenExpired}get auth(){return t}get user(){return this.$$user}set user(t){const e=this.$$user;this.$$user=t,this.requestUpdate&&this.requestUpdate("user",e)}get authenticated(){return this.$$authenticated}set authenticated(t){const e=this.$$authenticated;this.$$authenticated=t,this.requestUpdate&&this.requestUpdate("authenticated",e)}}}};e.default=n}])});
//# sourceMappingURL=salte-auth.es6.min.js.map